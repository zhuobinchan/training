<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping package="com.ehighsun.training.pojo">
    <class name="Person" table="person">
        <id name="pid" type="java.lang.Integer">
            <generator class="native"></generator>
        </id>
        <property name="accountNum" type="java.lang.String" unique="true" />
		<property name="password" type="java.lang.String" />        
		<property name="role" type="java.lang.String" />        
		<property name="telephone" type="java.lang.String" />        
		<property name="idCard" type="java.lang.String" />        
		<property name="gender" type="java.lang.String" />        
		<property name="openId" type="java.lang.String" />        
		<property name="headUrl" type="java.lang.String" />        
		<property name="address" type="java.lang.String" />        
		<property name="email" type="java.lang.String" />      
		<property name="name" type="java.lang.String" />       
		<property name="nickName" type="java.lang.String" />     

		
       	<bag name="stories" cascade="all" lazy="false" inverse="true">  
	        <key column="personId" not-null="true"/>  
	        <one-to-many class="Story"/>
	    </bag>
        
        <joined-subclass name="Student">
        	<key column="pid"/>
        	<property name="sno" type="java.lang.String"></property>
        	<property name="school" type="java.lang.String"></property>
        	<property name="unit" type="java.lang.String"></property>
        	<property name="integral" type="java.lang.Integer"></property>
       		<bag name="resumes" cascade="all" lazy="false" inverse="true">  
	            <key column="studentId" not-null="true"/>  
	            <one-to-many class="Resume"/>
	        </bag>
        </joined-subclass>
        
         <joined-subclass name="Teacher">
        	<key column="pid"/>
         	<property name="tno" type="java.lang.String"></property>
        	<property name="introduction" type="java.lang.String"></property>
        	<many-to-one name="organization" class="Organization" fetch="select" lazy="false" column="organizationId"></many-to-one>
        </joined-subclass>       
 
        <joined-subclass name="Administrator">
        	<key column="pid"/>
         	<property name="ano" type="java.lang.String"></property>
        </joined-subclass>    
        
    </class>
</hibernate-mapping>
